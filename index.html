<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <title>Monkey Flipper</title>
    
    <!-- –ù–û–í–û–ï: Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- –ù–û–í–û–ï: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App -->
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Telegram Web App —Å—Ä–∞–∑—É
        if (window.Telegram && window.Telegram.WebApp) {
            const tg = window.Telegram.WebApp;
            
            // –í–ê–ñ–ù–û: –°–Ω–∞—á–∞–ª–∞ —Ä–∞—Å—à–∏—Ä—è–µ–º –æ–∫–Ω–æ
            tg.expand();
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞
            tg.setHeaderColor('#000000');
            tg.setBackgroundColor('#000000');
            
            // –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
            tg.ready();
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–≤–∞–π–ø—ã (—á—Ç–æ–±—ã –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–ª–æ—Å—å)
            tg.enableClosingConfirmation();
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –µ—Å–ª–∏ –µ—Å—Ç—å
            if (tg.BackButton) {
                tg.BackButton.hide();
            }
            
            console.log('‚úÖ Telegram Web App –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω:', tg.initDataUnsafe);
            console.log('üì± Viewport height:', tg.viewportHeight, 'Window height:', window.innerHeight);
            
            // –§–ò–ö–°: –ü—Ä–æ—Å—Ç–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è Telegram
            window.addEventListener('load', function() {
                // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–∫—Ä–æ–ª–ª–∏–º –Ω–∞–≤–µ—Ä—Ö
                window.scrollTo(0, 0);
                
                // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å–∫—Ä–æ–ª–ª
                document.addEventListener('touchmove', function(e) {
                    if (e.target.tagName !== 'CANVAS') {
                        e.preventDefault();
                    }
                }, { passive: false });
                
                console.log('üîí –°–∫—Ä–æ–ª–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω');
            });
        } else {
            console.warn('‚ö†Ô∏è Telegram Web App SDK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
        }
    </script>
    
    <!-- Socket.IO Client for 1v1 multiplayer -->
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.90.0/dist/phaser.js"></script>
    <!-- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: minified –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.90.0/dist/phaser.min.js"></script>
    -->
    <script src="./src/index.js"></script>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #000;
            position: fixed; /* –§–ò–ö–°: –§–∏–∫—Å–∏—Ä—É–µ–º —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Å–∫—Ä–æ–ª–ª–∞ –≤ TG */
        }
        
        body {
            touch-action: none; /* –§–ò–ö–°: –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–ª–æ–∫–∏—Ä—É–µ–º touch –∂–µ—Å—Ç—ã */
        }
        
        #game-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            overflow: hidden;
        }
        
        /* –§–ò–ö–°: Canvas –∑–∞–ø–æ–ª–Ω—è–µ—Ç –º–∞–∫—Å–∏–º—É–º –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ */
        canvas {
            display: block;
            background: #000;
            max-width: 100%;
            max-height: 100%;
            width: auto !important;
            height: auto !important;
        }
    </style>
</head>
<body>
    <div id="game-container"></div>
</body>
</html>